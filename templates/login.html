{% extends 'base.html' %}

{% block head %}
    <title>Login</title>
    <link rel="stylesheet" href="styles.css">
{% endblock %}

{% block body %}
<main>
    <div id="loginContainer">
        <h2>Login</h2>
        <form id="loginForm">
            <label for="username">Username:</label>
            <input type="text" id="loginUsername" name="username" required><br>
            <label for="password">Password:</label>
            <input type="password" id="loginPassword" name="password" required><br>
            <button type="submit">Login</button>
        </form>
    </div>

    <div id="signupContainer">
        <h2>Sign Up</h2>
        <form id="signupForm">
            <label for="newUsername">New Username:</label>
            <input type="text" id="signupUsername" name="newUsername" required><br>
            <label for="newPassword">New Password:</label>
            <input type="password" id="signupPassword" name="newPassword" required><br>
            <button type="submit">Sign Up</button>
        </form>
    </div>
</main>

<footer>
    <!-- Footer content goes here -->
</footer>

<script src="scripts.js"></script>
<script>
    // JavaScript code for handling form submissions
    document.getElementById("loginForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Prevent the form from submitting
        // Retrieve input values
        var username = document.getElementById("loginUsername").value;
        var password = document.getElementById("loginPassword").value;
        // Send login request to server
        fetch("/login", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ username: username, password: password })
        })
        .then(response => {
            if (response.ok) {
                console.log("Login successful");
                // Redirect or perform other actions upon successful login
            } else {
                console.error("Login failed:", response.statusText);
                // Display error message or perform other actions upon failed login
            }
        })
        .catch(error => {
            console.error("Error during login:", error);
            // Display error message or perform other actions upon error
        });
    });

    document.getElementById("signupForm").addEventListener("submit", function(event) {
        event.preventDefault(); // Prevent the form from submitting
        // Retrieve input values
        var username = document.getElementById("signupUsername").value;
        var password = document.getElementById("signupPassword").value;
        // Send signup request to server
        fetch("/signup", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({ username: username, password: password })
        })
        .then(response => {
            if (response.ok) {
                console.log("Signup successful");
                // Redirect or perform other actions upon successful signup
            } else {
                console.error("Signup failed:", response.statusText);
                // Display error message or perform other actions upon failed signup
            }
        })
        .catch(error => {
            console.error("Error during signup:", error);
            // Display error message or perform other actions upon error
        });
    });
</script>
{% endblock %}
