{% extends 'base.html' %}

{% block head %}

{% endblock %}
{%block title %}Planner{% endblock %}
{% block body %}
<main>
    <h2 class="planner_title">Add Task</h2>
    <form class="planner_form" action="{{ url_for('planner') }}" method="POST">
        <label for="task_name">Task Name:</label>
        <input type="text" id="task_name" name="task_name" required><br>

        <label for="due_date">Due Date:</label>
            <select id="due_date" name="due_date" required>
                <option value="Sunday">Sunday</option>
                <option value="Monday">Monday</option>
                <option value="Tuesday">Tuesday</option>
                <option value="Wednesday">Wednesday</option>
                <option value="Thursday">Thursday</option>
                <option value="Friday">Friday</option>
                <option value="Saturday">Saturday</option>
            </select><br>

        <label for="points">Points:</label>
        <input type="number" id="points" name="points" required><br>

        <label for="percentage">Grade Weight:</label>
        <input type="number" id="percentage" name="percentage" required><br>

        <button type="submit" name="add_task">Add Task</button>
    </form>
    <div class="planner_container">
        <div class="planner_days">
            <div class="bar">
                <p>Sunday</p>
                <div class="task_container">
                    {% for task in sunday_tasks %}           <!--used chatgpt for this it dynamically adds more <p> elements-->
                            <form method="POST" action="/planner" onsubmit="return confirmDelete()">
                                <input type="hidden" name="day_of_week" value="Sunday">
                                <input type="hidden" name="task_name" value="{{ task.split(':')[0].strip() }}">
                                <button class="task" type="submit" name="remove_task">{{ task }}</button>
                            </form>
                        {% endfor %}
                </div>
            </div>
            <div class="bar">
                <p>Monday</p>
                <div class="task_container">
                    {% for task in monday_tasks %}           <!--used chatgpt for this it dynamically adds more <p> elements-->
                            <form method="POST" action="/planner" onsubmit="return confirmDelete()">
                                <input type="hidden" name="day_of_week" value="Monday">
                                <input type="hidden" name="task_name" value="{{ task.split(':')[0].strip() }}">
                                <button class="task" type="submit" name="remove_task">{{ task }}</button>
                            </form>
                        {% endfor %}
                </div>
            </div>
            <div class="bar">
                <p>Tuesday</p>
                <div class="task_container">
                    {% for task in tuesday_tasks %}           <!--used chatgpt for this it dynamically adds more <p> elements-->
                        <form method="POST" action="/planner" onsubmit="return confirmDelete()">
                            <input type="hidden" name="day_of_week" value="Tuesday">
                            <input type="hidden" name="task_name" value="{{ task.split(':')[0].strip() }}">
                            <button class="task" type="submit" name="remove_task">{{ task }}</button>
                        </form>
                        {% endfor %}
                </div>
            </div>
            <div class="bar">
                <p>Wednesday</p>
                <div class="task_container">
                    {% for task in wednesday_tasks %}           <!--used chatgpt for this it dynamically adds more <p> elements-->
                        <form method="POST" action="/planner" onsubmit="return confirmDelete()">
                            <input type="hidden" name="day_of_week" value="Wednesday">
                            <input type="hidden" name="task_name" value="{{ task.split(':')[0].strip() }}">
                            <button class="task" type="submit" name="remove_task">{{ task }}</button>
                        </form>
                        {% endfor %}
                </div>
            </div>
            <div class="bar">
                <p>Thursday</p>
                <div class="task_container">
                    {% for task in thursday_tasks %}           <!--used chatgpt for this it dynamically adds more <p> elements-->
                        <form method="POST" action="/planner" onsubmit="return confirmDelete()">
                            <input type="hidden" name="day_of_week" value="Thursday">
                            <input type="hidden" name="task_name" value="{{ task.split(':')[0].strip() }}">
                            <button class="task" type="submit" name="remove_task">{{ task }}</button>
                        </form>
                        {% endfor %}
                </div>
            </div>
            <div class="bar">
                <p>Friday</p>
                <div class="task_container">
                    {% for task in friday_tasks %}           <!--used chatgpt for this it dynamically adds more <p> elements-->
                        <form method="POST" action="/planner" onsubmit="return confirmDelete()">
                            <input type="hidden" name="day_of_week" value="Friday">
                            <input type="hidden" name="task_name" value="{{ task.split(':')[0].strip() }}">
                            <button class="task" type="submit" name="remove_task">{{ task }}</button>
                        </form>
                        {% endfor %}
                </div>
            </div>
            <div class="bar">
                <p>Saturday</p>
                <div class="task_container">
                    {% for task in saturday_tasks %}           <!--used chatgpt for this it dynamically adds more <p> elements-->
                        <form method="POST" action="/planner" onsubmit="return confirmDelete()">
                            <input type="hidden" name="day_of_week" value="Saturday">
                            <input type="hidden" name="task_name" value="{{ task.split(':')[0].strip() }}">
                            <button class="task" type="submit" name="remove_task">{{ task }}</button>
                        </form>
                        {% endfor %}
                </div>
            </div>
        </div>
    </div>
</main>
<footer>

</footer>
<script>
    function confirmDelete() {
        if (confirm("Are you sure you want to delete this task?")) {
            return true;
        } else {
            return false;
        }
    }
</script>
{% endblock %}
